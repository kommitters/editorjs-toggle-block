!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Toggle=e():t.Toggle=e()}(self,(function(){return(()=>{var t={424:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var a=r(81),n=r.n(a),s=r(645),o=r.n(s)()(n());o.push([t.id,".toggle-block__selector > div{\n  vertical-align: middle;\n  display: inline-block;\n  padding: 1% 0 1% 0;\n  outline: none;\n  border: none;\n  width: 90%;\n}\n\n.toggle-block__icon > svg {\n  vertical-align: top;\n  width: 34px;\n  height: 34px;\n}\n\n.toggle-block__icon:hover {\n  color: #388ae5;\n  cursor: pointer;\n}\n\n.toggle-block__paragraph {\n  margin-left: 34px;\n}",""]);const i=o},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",a=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),a&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),a&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,a,n,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(a)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(o[c]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);a&&o[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),e.push(d))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},379:t=>{"use strict";var e=[];function r(t){for(var r=-1,a=0;a<e.length;a++)if(e[a].identifier===t){r=a;break}return r}function a(t,a){for(var s={},o=[],i=0;i<t.length;i++){var c=t[i],l=a.base?c[0]+a.base:c[0],d=s[l]||0,p="".concat(l," ").concat(d);s[l]=d+1;var u=r(p),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(h);else{var g=n(h,a);a.byIndex=i,e.splice(i,0,{identifier:p,updater:g,references:1})}o.push(p)}return o}function n(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,n){var s=a(t=t||[],n=n||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var i=r(s[o]);e[i].references--}for(var c=a(t,n),l=0;l<s.length;l++){var d=r(s[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}s=c}}},569:t=>{"use strict";var e={};t.exports=function(t,r){var a=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(r)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var a="";r.supports&&(a+="@supports (".concat(r.supports,") {")),r.media&&(a+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(a+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),a+=r.css,n&&(a+="}"),r.media&&(a+="}"),r.supports&&(a+="}");var s=r.sourceMap;s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},46:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-paragraph" viewBox="0 -4 15 25"><path d="M10.5 15a.5.5 0 0 1-.5-.5V2H9v12.5a.5.5 0 0 1-1 0V9H7a4 4 0 1 1 0-8h5.5a.5.5 0 0 1 0 1H11v12.5a.5.5 0 0 1-.5.5z"></path></svg>'},390:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-eraser-fill" viewBox="0 -4 15 25"><path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"></path><desc>Remove the last paragraph</desc></svg>'},370:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 25 15"><path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"></path></svg>'},664:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 25 15"><path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"></path></svg>'}},e={};function r(a){var n=e[a];if(void 0!==n)return n.exports;var s=e[a]={id:a,exports:{}};return t[a](s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var a={};return(()=>{"use strict";r.d(a,{default:()=>L});var t=r(379),e=r.n(t),n=r(795),s=r.n(n),o=r(569),i=r.n(o),c=r(565),l=r.n(c),d=r(216),p=r.n(d),u=r(589),h=r.n(u),g=r(424),v={};v.styleTagTransform=h(),v.setAttributes=l(),v.insert=i().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p(),e()(g.Z,v),g.Z&&g.Z.locals&&g.Z.locals;var f=r(370),m=r.n(f),b=r(664),w=r.n(b),x=r(46),y=r.n(x),_=r(390),T=r.n(_);class L{static get toolbox(){return{title:"Toggle",icon:m()}}constructor({data:t}){this.data={text:t.text||"",status:t.status||"closed",items:t.items||[]},this.wrapper=void 0}render(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("toggle-block__selector");const t=document.createElement("span");t.classList.add("toggle-block__icon"),t.innerHTML="closed"===this.data.status?m():w(),t.addEventListener("click",(()=>{t.innerHTML=this._resolveToggleAction(),this._hideAndShowParagraphs()}));const e=document.createElement("div");return e.classList.add("toggle-block__input"),e.contentEditable=!0,e.innerHTML=this.data.text||"",this.wrapper.appendChild(t),this.wrapper.appendChild(e),this.data.items.forEach((t=>{this._renderParagraph(t)})),this.wrapper}save(t){const e=t.querySelector("div"),r=t.querySelectorAll(".toggle-block__paragraph"),a=[];return r.forEach((t=>a.push(t.innerHTML))),Object.assign(this.data,{text:e.innerHTML,items:[...a]})}validate(t){let e=!1;for(let r=0;r<t.items.length;r+=1)if(t.items[r].trim()){e=!0;break}return!(!e&&!t.text.trim())}renderSettings(){const t=[{name:"insertParagraph",icon:y()},{name:"removeParagraph",icon:T()}],e=document.createElement("div");return t.forEach((t=>{const r=document.createElement("div");r.classList.add("cdx-settings-button"),r.innerHTML=t.icon,r.addEventListener("click",(()=>{"insertParagraph"===t.name?this.insertParagraph():this.removeParagraph()})),e.appendChild(r)})),e}_renderParagraph(t=""){const e=this.data.status;this.insertParagraph(t),e!==this.data.status&&(this.wrapper.firstChild.innerHTML=this._resolveToggleAction(),this._hideAndShowParagraphs())}insertParagraph(t=""){"closed"===this.data.status&&(this.wrapper.firstChild.innerHTML=this._resolveToggleAction(),this._hideAndShowParagraphs());const e=document.createElement("div");e.classList.add("toggle-block__paragraph"),e.contentEditable=!0,e.innerHTML=t||"",this.wrapper.appendChild(e)}removeParagraph(){const t=this.wrapper.lastChild;"toggle-block__paragraph"===t.classList.value&&t.remove()}_resolveToggleAction(){let t=m();return"closed"===this.data.status?(t=w(),this.data.status="open"):this.data.status="closed",t}_hideAndShowParagraphs(){if("closed"===this.data.status)for(let t=2;t<this.wrapper.children.length;t+=1)this.wrapper.children[t].setAttribute("hidden",!0);else for(let t=2;t<this.wrapper.children.length;t+=1)this.wrapper.children[t].removeAttribute("hidden")}}})(),a.default})()}));